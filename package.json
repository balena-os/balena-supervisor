{
  "name": "balena-supervisor",
  "description": "This is balena's Supervisor, a program that runs on IoT devices and has the task of running user Apps (which are Docker containers), and updating them as the balena API informs it to.",
  "version": "16.2.17",
  "license": "Apache-2.0",
  "repository": {
    "type": "git",
    "url": "https://github.com/balena-os/balena-supervisor.git"
  },
  "scripts": {
    "start": "./entry.sh",
    "build": "npm run clean && npm run release && webpack",
    "lint": "balena-lint -e ts -e js src/ test/ typings/ build-utils/",
    "test:build": "tsc --noEmit && tsc --noEmit --project tsconfig.js.json",
    "test:unit": "mocha --config test/unit/.mocharc.js",
    "test:integration": "find test/integration -name *.spec.ts | xargs -n 1 -I {} sh -c 'mocha --config test/integration/.mocharc.js {} || exit 255'",
    "test:integration:single": "find test/integration -name *.spec.ts | xargs mocha --config test/integration/.mocharc.js",
    "test:legacy": "mocha --config test/legacy/.mocharc.js",
    "test:node": "npm run test:unit && npm run test:integration && npm run test:legacy",
    "test:env": "ARCH=$(./build-utils/detect-arch.sh) docker compose -f docker-compose.test.yml -f docker-compose.dev.yml run --build --rm sut sh; npm run compose:down",
    "test:compose": "(ARCH=$(./build-utils/detect-arch.sh) docker compose -f docker-compose.yml -f docker-compose.test.yml run --build --rm sut || docker compose logs); npm run compose:down",
    "test": "npm run lint && npm run test:build && npm run test:unit",
    "compose:down": "docker compose -f docker-compose.yml -f docker-compose.test.yml down --volumes",
    "prettify": "balena-lint -e ts -e js --fix src/ test/ typings/ build-utils/",
    "release": "tsc --project tsconfig.release.json && mv build/src/* build",
    "sync": "ts-node --files sync/sync.ts",
    "clean": "rimraf build",
    "install-native-deps": "./build-utils/install-dbus.sh",
    "flowzone-preinstall": "npm run install-native-deps",
    "prepare": "node -e \"try { require('husky').install() } catch (e) {if (e.code !== 'MODULE_NOT_FOUND') throw e}\""
  },
  "private": true,
  "dependencies": {
    "@balena/systemd": "^0.5.0",
    "sqlite3": "^5.1.6"
  },
  "engines": {
    "node": ">=20 <21",
    "npm": ">=10"
  },
  "devDependencies": {
    "@balena/contrato": "^0.6.0",
    "@balena/es-version": "^1.0.3",
    "@balena/lint": "^7.3.0",
    "@types/bluebird": "^3.5.37",
    "@types/chai": "^4.3.3",
    "@types/chai-as-promised": "^7.1.5",
    "@types/chai-like": "^1.1.1",
    "@types/chai-things": "0.0.38",
    "@types/common-tags": "^1.8.1",
    "@types/copy-webpack-plugin": "^10.1.0",
    "@types/dockerode": "^2.5.34",
    "@types/event-stream": "^3.3.34",
    "@types/express": "^4.17.14",
    "@types/json-mask": "2.0.3",
    "@types/JSONStream": "npm:@types/jsonstream@^0.8.33",
    "@types/lodash": "^4.14.186",
    "@types/memoizee": "^0.4.8",
    "@types/mocha": "^8.2.3",
    "@types/mock-fs": "^4.13.1",
    "@types/morgan": "^1.9.3",
    "@types/node": "^20.11.24",
    "@types/request": "^2.48.8",
    "@types/rewire": "^2.5.28",
    "@types/rimraf": "^2.0.5",
    "@types/rwlock": "^5.0.3",
    "@types/semver": "^7.3.12",
    "@types/shell-quote": "^1.7.1",
    "@types/sinon": "^10.0.13",
    "@types/sinon-chai": "^3.2.8",
    "@types/supertest": "^2.0.12",
    "@types/terser-webpack-plugin": "^5.2.0",
    "@types/tmp": "^0.2.3",
    "@types/webpack": "^5.28.0",
    "@types/yargs": "^15.0.14",
    "balena-auth": "^6.0.1",
    "balena-register-device": "^9.0.2",
    "balena-request": "^13.3.1",
    "blinking": "^0.0.7",
    "bluebird": "^3.7.2",
    "chai": "^4.3.4",
    "chai-as-promised": "^7.1.1",
    "chai-like": "^1.1.1",
    "chai-things": "^0.2.0",
    "chokidar": "^3.5.1",
    "common-tags": "^1.8.0",
    "copy-webpack-plugin": "^11.0.0",
    "deep-object-diff": "^1.1.0",
    "docker-delta": "^2.2.11",
    "docker-progress": "^4.0.3",
    "dockerode": "^2.5.8",
    "duration-js": "^4.0.0",
    "event-stream": "3.3.4",
    "express": "^4.17.1",
    "fork-ts-checker-webpack-plugin": "^7.2.13",
    "fp-ts": "^2.8.1",
    "got": "12.6.1",
    "husky": "^8.0.1",
    "io-ts": "^2.2.10",
    "io-ts-reporters": "^1.2.2",
    "json-mask": "^0.3.9",
    "JSONStream": "^1.3.5",
    "knex": "^2.5.1",
    "lint-staged": "^13.0.3",
    "livepush": "^3.5.1",
    "lodash": "^4.17.21",
    "mdns-resolver": "1.1.0",
    "memoizee": "^0.4.14",
    "mocha": "^8.3.2",
    "mocha-pod": "^0.9.0",
    "mock-fs": "^4.14.0",
    "morgan": "^1.10.0",
    "network-checker": "^0.1.1",
    "nock": "^13.1.2",
    "nodemon": "^2.0.4",
    "pinejs-client-request": "^7.3.5",
    "pretty-ms": "^7.0.1",
    "request": "^2.88.2",
    "resin-docker-build": "^1.1.6",
    "resumable-request": "^2.0.1",
    "rewire": "^6.0.0",
    "rimraf": "^2.7.1",
    "rwlock": "^5.0.0",
    "semver": "7.5.4",
    "shell-quote": "^1.7.2",
    "sinon": "^14.0.1",
    "sinon-chai": "^3.7.0",
    "strict-event-emitter-types": "^2.0.0",
    "supertest": "^6.1.3",
    "systeminformation": "5.18.10",
    "tar-stream": "^2.1.3",
    "terser-webpack-plugin": "^5.3.6",
    "tmp": "^0.1.0",
    "ts-loader": "^9.4.0",
    "ts-node": "^8.10.2",
    "tsconfig-paths": "^4.1.0",
    "typed-error": "^3.2.1",
    "typescript": "^5.3.3",
    "webpack": "^5.74.0",
    "webpack-cli": "^4.10.0",
    "winston": "^3.3.3",
    "yargs": "^15.4.1"
  },
  "versionist": {
    "publishedAt": "2024-04-15T20:57:04.338Z"
  }
}
